{"version":3,"sources":["AspectRatio.tsx"],"names":["AspectRatio","props","layout","setLayout","React","useState","aspectRatio","inputStyle","StyleSheet","flatten","style","width","height","push","nativeEvent","l","children"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAaA,MAAMA,WAA4B,GAAIC,KAAD,IAAW;AAC9C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,eAAMC,QAAN,CAAuC,IAAvC,CAA5B;;AACA,QAAM;AAAEC,IAAAA,WAAW,GAAG,CAAhB;AAAmB,OAAGC;AAAtB,MACJC,wBAAWC,OAAX,CAAmBR,KAAK,CAACS,KAAzB,KAAmC,EADrC;AAEA,QAAMA,KAAK,GAAG,CAACH,UAAD,EAAa;AAAED,IAAAA;AAAF,GAAb,CAAd;;AAEA,MAAIJ,MAAJ,EAAY;AACV,UAAM;AAAES,MAAAA,KAAK,GAAG,CAAV;AAAaC,MAAAA,MAAM,GAAG;AAAtB,QAA4BV,MAAlC;;AACA,QAAIS,KAAK,KAAK,CAAd,EAAiB;AACfD,MAAAA,KAAK,CAACG,IAAN,CAAW;AAAEF,QAAAA,KAAK,EAAEC,MAAM,IAAI,IAAIN,WAAR,CAAf;AAAqCM,QAAAA;AAArC,OAAX;AACD,KAFD,MAEO;AACLF,MAAAA,KAAK,CAACG,IAAN,CAAW;AAAEF,QAAAA,KAAF;AAASC,QAAAA,MAAM,EAAED,KAAK,IAAI,IAAIL,WAAR;AAAtB,OAAX;AACD;AACF;;AACD,sBACE,6BAAC,iBAAD,eACML,KADN;AAEE,IAAA,KAAK,EAAES,KAFT;AAGE,IAAA,QAAQ,EAAE,CAAC;AAAEI,MAAAA,WAAW,EAAE;AAAEZ,QAAAA,MAAM,EAAEa;AAAV;AAAf,KAAD,KAAoCZ,SAAS,CAACY,CAAD;AAHzD,MAKGd,KAAK,CAACe,QALT,CADF;AASD,CAvBD;;eAyBehB,W","sourcesContent":["import React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  LayoutRectangle,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\n\ntype Props = {\n  children?: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\nconst AspectRatio: React.FC<Props> = (props) => {\n  const [layout, setLayout] = React.useState<LayoutRectangle | null>(null);\n  const { aspectRatio = 1, ...inputStyle } =\n    StyleSheet.flatten(props.style) || {};\n  const style = [inputStyle, { aspectRatio }];\n\n  if (layout) {\n    const { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      style.push({ width: height * (1 / aspectRatio), height });\n    } else {\n      style.push({ width, height: width * (1 / aspectRatio) });\n    }\n  }\n  return (\n    <View\n      {...props}\n      style={style}\n      onLayout={({ nativeEvent: { layout: l } }) => setLayout(l)}\n    >\n      {props.children}\n    </View>\n  );\n};\n\nexport default AspectRatio;\n"]}