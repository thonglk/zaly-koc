{"version":3,"sources":["AnimatedCircularProgress.tsx"],"names":["AnimatedProgress","Animated","createAnimatedComponent","CircularProgress","AnimatedCircularProgress","duration","easing","Easing","out","ease","fill","prefill","useNativeDriver","tintColorSecondary","onAnimationComplete","tintColor","other","fillAnimation","React","useState","Value","animate","useCallback","toVal","dur","toValue","dura","eas","useNative","anim","timing","start","animateColor","tintAnimation","interpolate","inputRange","outputRange","useEffect","style","childrenContainerStyle"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;;;;;;;AAGA,MAAMA,gBAAgB,GAAGC,sBAASC,uBAAT,CAAiCC,yBAAjC,CAAzB;;AAWA,MAAMC,wBAAyC,GAAG,CAAC;AACjDC,EAAAA,QAAQ,GAAG,GADsC;AAEjDC,EAAAA,MAAM,GAAGC,oBAAOC,GAAP,CAAWD,oBAAOE,IAAlB,CAFwC;AAGjDC,EAAAA,IAHiD;AAIjDC,EAAAA,OAAO,GAAG,CAJuC;AAKjDC,EAAAA,eAAe,GAAG,KAL+B;AAMjDC,EAAAA,kBANiD;AAOjDC,EAAAA,mBAPiD;AAQjDC,EAAAA,SAAS,GAAG,OARqC;AASjD,KAAGC;AAT8C,CAAD,KAU5C;AACJ,QAAM,CAACC,aAAD,IAAkBC,KAAK,CAACC,QAAN,CACtB,IAAIlB,sBAASmB,KAAb,CAAmBT,OAAnB,CADsB,CAAxB;AAIA,QAAMU,OAAO,GAAGH,KAAK,CAACI,WAAN,CACd,CACEC,KAAa,GAAG,CAAC,CADnB,EAEEC,GAFF,EAGEf,IAHF,KAIkC;AAChC,UAAMgB,OAAO,GAAGF,KAAK,IAAI,CAAT,GAAaA,KAAb,GAAqBb,IAArC;AACA,UAAMgB,IAAI,GAAGF,GAAG,IAAInB,QAApB;AACA,UAAMsB,GAAG,GAAGlB,IAAI,IAAIH,MAApB;AACA,UAAMsB,SAAS,GAAGhB,eAAlB;;AAEA,UAAMiB,IAAI,GAAG5B,sBAAS6B,MAAT,CAAgBb,aAAhB,EAA+B;AAC1CL,MAAAA,eAAe,EAAEgB,SADyB;AAE1CH,MAAAA,OAF0C;AAG1CnB,MAAAA,MAAM,EAAEqB,GAHkC;AAI1CtB,MAAAA,QAAQ,EAAEqB;AAJgC,KAA/B,CAAb;;AAMAG,IAAAA,IAAI,CAACE,KAAL,CAAWjB,mBAAX;AAEA,WAAOe,IAAP;AACD,GApBa,EAqBd,CACExB,QADF,EAEEC,MAFF,EAGEI,IAHF,EAIEE,eAJF,EAKEK,aALF,EAMEH,mBANF,CArBc,CAAhB;;AA+BA,QAAMkB,YAAY,GAAG,MAAM;AACzB,QAAI,CAACnB,kBAAL,EAAyB;AACvB,aAAOE,SAAP;AACD;;AAED,UAAMkB,aAAa,GAAGhB,aAAa,CAACiB,WAAd,CAA0B;AAC9CC,MAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CADkC;AAE9CC,MAAAA,WAAW,EAAE,CAACrB,SAAD,EAAYF,kBAAZ;AAFiC,KAA1B,CAAtB;AAKA,WAAOoB,aAAP;AACD,GAXD;;AAaAf,EAAAA,KAAK,CAACmB,SAAN,CAAgB,MAAM;AACpBhB,IAAAA,OAAO;AACR,GAFD,EAEG,CAACX,IAAD,EAAOW,OAAP,CAFH;AAIA,sBACE,oBAAC,gBAAD,eACML,KADN;AAEE,IAAA,KAAK,EAAEA,KAAK,CAACsB,KAFf;AAGE,IAAA,sBAAsB,EACpBtB,KAAK,CAACuB,sBAJV;AAQE,IAAA,IAAI,EAAEtB,aARR;AASE,IAAA,SAAS,EAAEe,YAAY;AATzB,KADF;AAaD,CA5ED;;eA8Ee5B,wB","sourcesContent":["import * as React from \"react\";\nimport {\n  Animated,\n  Easing,\n  EasingFunction,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport CircularProgress, {\n  Props as CircularProgressProps,\n} from \"./CircularProgress\";\nconst AnimatedProgress = Animated.createAnimatedComponent(CircularProgress);\n\ntype Props = {\n  duration?: number;\n  easing?: EasingFunction;\n  prefill?: number;\n  useNativeDriver?: boolean;\n  tintColorSecondary?: string;\n  onAnimationComplete?: Animated.EndCallback | undefined;\n} & CircularProgressProps;\n\nconst AnimatedCircularProgress: React.FC<Props> = ({\n  duration = 500,\n  easing = Easing.out(Easing.ease),\n  fill,\n  prefill = 0,\n  useNativeDriver = false,\n  tintColorSecondary,\n  onAnimationComplete,\n  tintColor = \"black\",\n  ...other\n}) => {\n  const [fillAnimation] = React.useState<Animated.Value>(\n    new Animated.Value(prefill)\n  );\n\n  const animate = React.useCallback(\n    (\n      toVal: number = -1,\n      dur?: number,\n      ease?: EasingFunction\n    ): Animated.CompositeAnimation => {\n      const toValue = toVal >= 0 ? toVal : fill;\n      const dura = dur || duration;\n      const eas = ease || easing;\n      const useNative = useNativeDriver;\n\n      const anim = Animated.timing(fillAnimation, {\n        useNativeDriver: useNative,\n        toValue,\n        easing: eas,\n        duration: dura,\n      });\n      anim.start(onAnimationComplete);\n\n      return anim;\n    },\n    [\n      duration,\n      easing,\n      fill,\n      useNativeDriver,\n      fillAnimation,\n      onAnimationComplete,\n    ]\n  );\n\n  const animateColor = () => {\n    if (!tintColorSecondary) {\n      return tintColor;\n    }\n\n    const tintAnimation = fillAnimation.interpolate({\n      inputRange: [0, 100],\n      outputRange: [tintColor, tintColorSecondary],\n    });\n\n    return tintAnimation;\n  };\n\n  React.useEffect(() => {\n    animate();\n  }, [fill, animate]);\n\n  return (\n    <AnimatedProgress\n      {...other}\n      style={other.style as Animated.WithAnimatedValue<StyleProp<ViewStyle>>}\n      childrenContainerStyle={\n        other.childrenContainerStyle as Animated.WithAnimatedValue<\n          StyleProp<ViewStyle>\n        >\n      }\n      fill={fillAnimation}\n      tintColor={animateColor()}\n    />\n  );\n};\n\nexport default AnimatedCircularProgress;\n"]}