{"version":3,"sources":["Slider.tsx"],"names":["React","View","StyleSheet","NativeSlider","isNumber","toNumber","COMPONENT_TYPES","GROUPS","createNumberProp","createColorProp","createFieldNameProp","createIconProp","withTheme","usePrevious","maybeParseValue","value","undefined","maybe","Slider","Icon","leftIcon","rightIcon","leftIconColor","rightIconColor","initialValue","minimumTrackTintColor","maximumTrackTintColor","thumbTintColor","minimumValue","maximumValue","tapToSeek","step","onValueChange","style","theme","rest","previousInitialValue","useEffect","minTrackColor","colors","primary","maxTrackColor","light","thumbColor","leftIconThemeColor","rightIconThemeColor","parsedValue","styles","container","slider","create","height","flexDirection","alignItems","marginLeft","marginRight","flex","marginHorizontal","SEED_DATA","name","tag","description","category","input","layout","props","fieldName","defaultValue","handlerPropName","valuePropName","group","basic","label","min","max","precision"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { View, StyleSheet, StyleProp, ViewStyle } from \"react-native\";\nimport NativeSlider from \"@react-native-community/slider\";\nimport isNumber from \"lodash.isnumber\";\nimport toNumber from \"lodash.tonumber\";\n\nimport {\n  COMPONENT_TYPES,\n  GROUPS,\n  createNumberProp,\n  createColorProp,\n  createFieldNameProp,\n  createIconProp,\n} from \"@draftbit/types\";\nimport { withTheme } from \"../theming\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport { usePrevious } from \"../hooks\";\n\nexport type Props = {\n  style?: StyleProp<ViewStyle>;\n  value?: number;\n  initialValue?: number;\n  minimumTrackTintColor: string;\n  maximumTrackTintColor: string;\n  leftIcon?: string;\n  rightIcon?: string;\n  leftIconColor?: string;\n  rightIconColor?: string;\n  thumbTintColor?: string;\n  tapToSeek?: boolean;\n  minimumValue: number;\n  maximumValue: number;\n  step: number;\n  onValueChange?: (value: number) => void;\n  theme: Theme;\n} & IconSlot;\n\nfunction maybeParseValue(value: any) {\n  if (value === undefined) {\n    return undefined;\n  }\n\n  if (isNumber(value)) {\n    return value;\n  }\n\n  try {\n    const maybe = toNumber(value);\n    if (isNumber(maybe)) {\n      return maybe;\n    }\n  } catch {\n    return undefined;\n  }\n\n  return undefined;\n}\n\nfunction Slider({\n  Icon,\n  leftIcon,\n  rightIcon,\n  leftIconColor,\n  rightIconColor,\n  value,\n  initialValue,\n  minimumTrackTintColor,\n  maximumTrackTintColor,\n  thumbTintColor,\n  minimumValue = 0,\n  maximumValue = 100,\n  tapToSeek,\n  step = 1,\n  onValueChange = () => {},\n  style,\n  theme,\n  ...rest\n}: Props) {\n  const previousInitialValue = usePrevious(initialValue);\n  React.useEffect(() => {\n    if (initialValue !== previousInitialValue) {\n      onValueChange(initialValue);\n    }\n  }, [initialValue, previousInitialValue, onValueChange]);\n\n  const minTrackColor = minimumTrackTintColor || theme.colors.primary;\n  const maxTrackColor = maximumTrackTintColor || theme.colors.light;\n  const thumbColor = thumbTintColor || theme.colors.primary;\n\n  const leftIconThemeColor = leftIconColor || theme.colors.light;\n  const rightIconThemeColor = rightIconColor || theme.colors.light;\n\n  const parsedValue = maybeParseValue(value);\n\n  return (\n    <View style={[styles.container, style]} {...rest}>\n      {leftIcon ? (\n        <Icon color={leftIconThemeColor} name={leftIcon} size={24} />\n      ) : null}\n      <NativeSlider\n        value={parsedValue}\n        step={step}\n        minimumValue={minimumValue}\n        maximumValue={maximumValue}\n        tapToSeek={tapToSeek}\n        minimumTrackTintColor={minTrackColor}\n        maximumTrackTintColor={maxTrackColor}\n        thumbTintColor={thumbColor}\n        onSlidingComplete={onValueChange}\n        style={styles.slider}\n      />\n      {rightIcon ? (\n        <Icon color={rightIconThemeColor} name={rightIcon} size={24} />\n      ) : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 40,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginLeft: 12,\n    marginRight: 12,\n  },\n  slider: {\n    flex: 1,\n    marginHorizontal: 12,\n  },\n});\n\nexport default withTheme(Slider);\n\nexport const SEED_DATA = {\n  name: \"Slider\",\n  tag: \"Slider\",\n  description: \"A component used to set a value in a range\",\n  category: COMPONENT_TYPES.input,\n  layout: {},\n  props: {\n    fieldName: createFieldNameProp({\n      defaultValue: \"sliderValue\",\n      handlerPropName: \"onValueChange\",\n      valuePropName: \"value\",\n    }),\n    minimumValue: createNumberProp({\n      group: GROUPS.basic,\n      label: \"Min Value\",\n      min: 0,\n      max: 1000,\n    }),\n    maximumValue: createNumberProp({\n      group: GROUPS.basic,\n      label: \"Max Value\",\n      min: 1,\n      max: 10000,\n    }),\n    step: createNumberProp({\n      group: GROUPS.basic,\n      label: \"Step\",\n      min: 0,\n      max: 100,\n      step: 0.01,\n      precision: 2,\n    }),\n    leftIcon: createIconProp({\n      label: \"Left Icon\",\n      defaultValue: null,\n    }),\n    rightIcon: createIconProp({\n      label: \"Right Icon\",\n      defaultValue: null,\n    }),\n    minimumTrackTintColor: createColorProp({\n      label: \"Min Track Color\",\n      defaultValue: null,\n    }),\n    maximumTrackTintColor: createColorProp({\n      label: \"Max Track Color\",\n      defaultValue: null,\n    }),\n    thumbTintColor: createColorProp({\n      label: \"Thumb Color\",\n      defaultValue: null,\n    }),\n  },\n};\n"]}