{"version":3,"sources":["FieldSearchBarFull.tsx"],"names":["React","View","TextInput","StyleSheet","withTheme","GROUPS","COMPONENT_TYPES","FORM_TYPES","PROP_TYPES","FIELD_NAME","Config","usePrevious","FieldSearchBarFull","Icon","icon","placeholder","style","theme","colors","typography","onChange","changeOverride","onSubmit","submitOverride","value","initialValue","focused","setIsFocused","useState","onBlur","useCallback","text","previousInitialValue","useEffect","onFocus","e","lineHeight","typeStyles","body2","padding","styles","container","fieldSearchBarFullIconSize","primary","light","marginLeft","flex","color","medium","create","flexDirection","alignItems","SEED_DATA","name","tag","description","category","input","preview_image_url","supports_list_render","props","group","basic","label","formType","propType","ASSET","defaultValue","editable","required","string","STRING","action","fieldName","layout"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  TextInput,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n  NativeSyntheticEvent,\n  TextInputSubmitEditingEventData,\n} from \"react-native\";\nimport { withTheme } from \"../theming\";\nimport {\n  GROUPS,\n  COMPONENT_TYPES,\n  FORM_TYPES,\n  PROP_TYPES,\n  FIELD_NAME,\n} from \"@draftbit/types\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport Config from \"./Config\";\nimport { usePrevious } from \"../hooks\";\n\ntype Props = {\n  icon?: string;\n  placeholder?: string;\n  style?: StyleProp<ViewStyle>;\n  theme: Theme;\n  onChange: (text: string) => void;\n  onSubmit?: (e: NativeSyntheticEvent<TextInputSubmitEditingEventData>) => void;\n  value: string;\n  initialValue?: string;\n} & IconSlot;\n\nconst FieldSearchBarFull: React.FC<Props> = ({\n  Icon,\n  icon = \"search\",\n  placeholder = \"\",\n  style,\n  theme: { colors, typography },\n  onChange: changeOverride,\n  onSubmit: submitOverride,\n  value,\n  initialValue,\n}) => {\n  const [focused, setIsFocused] = React.useState(false);\n\n  const onBlur = () => {\n    setIsFocused(false);\n  };\n\n  const onChange = React.useCallback(\n    (text: string) => {\n      changeOverride && changeOverride(text);\n    },\n    [changeOverride]\n  );\n\n  const previousInitialValue = usePrevious(initialValue);\n  React.useEffect(() => {\n    if (initialValue !== previousInitialValue) {\n      onChange(initialValue);\n    }\n  }, [initialValue, previousInitialValue, onChange]);\n\n  const onFocus = () => {\n    setIsFocused(true);\n  };\n\n  const onSubmit = (\n    e: NativeSyntheticEvent<TextInputSubmitEditingEventData>\n  ) => {\n    submitOverride && submitOverride(e);\n  };\n\n  const { lineHeight, ...typeStyles } = typography.body2; // eslint-disable-line @typescript-eslint/no-unused-vars\n\n  return (\n    <View style={[{ padding: 16 }, styles.container, style]}>\n      <Icon\n        name={icon}\n        size={Config.fieldSearchBarFullIconSize}\n        color={focused ? colors.primary : colors.light}\n      />\n      <View style={{ marginLeft: 12, flex: 1 }}>\n        <TextInput\n          clearButtonMode=\"while-editing\"\n          placeholder={placeholder}\n          value={value}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onChangeText={onChange}\n          onSubmitEditing={onSubmit}\n          placeholderTextColor={colors.light}\n          style={[\n            {\n              color: colors.medium,\n            },\n            typeStyles,\n          ]}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n\nexport default withTheme(FieldSearchBarFull);\n\nexport const SEED_DATA = [\n  {\n    name: \"Search Bar\",\n    tag: \"FieldSearchBarFull\",\n    description: \"A search bar with accompanying search icon and clear button.\",\n    category: COMPONENT_TYPES.input,\n    preview_image_url: \"{CLOUDINARY_URL}/Field_SearchBar_Full.png\",\n    supports_list_render: false,\n    props: {\n      icon: {\n        group: GROUPS.basic,\n        label: \"Icon\",\n        description: \"Left icon to display\",\n        formType: FORM_TYPES.icon,\n        propType: PROP_TYPES.ASSET,\n        defaultValue: null,\n        editable: true,\n        required: false,\n      },\n      placeholder: {\n        group: GROUPS.basic,\n        label: \"Placeholder\",\n        description: \"Input placeholder text\",\n        formType: FORM_TYPES.string,\n        propType: PROP_TYPES.STRING,\n        defaultValue: \"Search for...\",\n        editable: true,\n        required: false,\n      },\n      onSubmit: {\n        group: GROUPS.basic,\n        label: \"Submit action\",\n        description: \"Action to execute on submission\",\n        editable: true,\n        required: false,\n        formType: FORM_TYPES.action,\n        propType: PROP_TYPES.STRING,\n        defaultValue: null,\n      },\n      fieldName: {\n        ...FIELD_NAME,\n        defaultValue: \"searchBarValue\",\n      },\n    },\n    layout: {},\n  },\n];\n"]}