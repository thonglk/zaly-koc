{"version":3,"sources":["AspectRatio.tsx"],"names":["React","View","StyleSheet","AspectRatio","props","layout","setLayout","useState","aspectRatio","inputStyle","flatten","style","width","height","push","nativeEvent","l","children"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,IADF,EAEEC,UAFF,QAMO,cANP;;AAaA,MAAMC,WAA4B,GAAIC,KAAD,IAAW;AAC9C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,KAAK,CAACO,QAAN,CAAuC,IAAvC,CAA5B;AACA,QAAM;AAAEC,IAAAA,WAAW,GAAG,CAAhB;AAAmB,OAAGC;AAAtB,MACJP,UAAU,CAACQ,OAAX,CAAmBN,KAAK,CAACO,KAAzB,KAAmC,EADrC;AAEA,QAAMA,KAAK,GAAG,CAACF,UAAD,EAAa;AAAED,IAAAA;AAAF,GAAb,CAAd;;AAEA,MAAIH,MAAJ,EAAY;AACV,UAAM;AAAEO,MAAAA,KAAK,GAAG,CAAV;AAAaC,MAAAA,MAAM,GAAG;AAAtB,QAA4BR,MAAlC;;AACA,QAAIO,KAAK,KAAK,CAAd,EAAiB;AACfD,MAAAA,KAAK,CAACG,IAAN,CAAW;AAAEF,QAAAA,KAAK,EAAEC,MAAM,IAAI,IAAIL,WAAR,CAAf;AAAqCK,QAAAA;AAArC,OAAX;AACD,KAFD,MAEO;AACLF,MAAAA,KAAK,CAACG,IAAN,CAAW;AAAEF,QAAAA,KAAF;AAASC,QAAAA,MAAM,EAAED,KAAK,IAAI,IAAIJ,WAAR;AAAtB,OAAX;AACD;AACF;;AACD,sBACE,oBAAC,IAAD,eACMJ,KADN;AAEE,IAAA,KAAK,EAAEO,KAFT;AAGE,IAAA,QAAQ,EAAE,CAAC;AAAEI,MAAAA,WAAW,EAAE;AAAEV,QAAAA,MAAM,EAAEW;AAAV;AAAf,KAAD,KAAoCV,SAAS,CAACU,CAAD;AAHzD,MAKGZ,KAAK,CAACa,QALT,CADF;AASD,CAvBD;;AAyBA,eAAed,WAAf","sourcesContent":["import React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  LayoutRectangle,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\n\ntype Props = {\n  children?: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\nconst AspectRatio: React.FC<Props> = (props) => {\n  const [layout, setLayout] = React.useState<LayoutRectangle | null>(null);\n  const { aspectRatio = 1, ...inputStyle } =\n    StyleSheet.flatten(props.style) || {};\n  const style = [inputStyle, { aspectRatio }];\n\n  if (layout) {\n    const { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      style.push({ width: height * (1 / aspectRatio), height });\n    } else {\n      style.push({ width, height: width * (1 / aspectRatio) });\n    }\n  }\n  return (\n    <View\n      {...props}\n      style={style}\n      onLayout={({ nativeEvent: { layout: l } }) => setLayout(l)}\n    >\n      {props.children}\n    </View>\n  );\n};\n\nexport default AspectRatio;\n"]}